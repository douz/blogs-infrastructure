apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Helm Repositories (must be first)
  - helm-repos/
  
  # Core infrastructure (order matters due to dependencies)
  - cert-manager/
  - external-dns/
  - gateway/
  - flux-notifications/
  
  # Infra-staged (CRD-dependent configs: apply after core infra is ready)
  - ../infra-staged/issuers/clusterissuer-letsencrypt-dns01.yaml
